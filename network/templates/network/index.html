{% extends "network/layout.html" %}

{% block body %}

{% if user.is_authenticated %}
    <div class="container">
        <form method="post" action="{% url 'new_post' %}">
            {% csrf_token %}
            <div class="form-group">
                <label for="post">New Post</label>
                <textarea class="form-control" id="post" name="post_content" placeholder="What's on your mind?" rows="3"></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Post</button>
        </form>
    </div>
{% endif %}

<div class="posts">
    {% for post in posts %}
    <div class="post">
        <h3>{{ post.user.username }}</h3>
        <p>{{ post.post }}</p>
        <p>Posted on: {{ post.timestamp }}</p>
    </div>
    {% empty %}
    <div class="alert alert-info" role="alert">
        No posts to display.
    </div>
    {% endfor %}
</div>


{% endblock %}
